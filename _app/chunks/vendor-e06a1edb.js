function Ae(){}function $t(e,t){for(const n in t)e[n]=t[n];return e}function pt(e){return e()}function ot(){return Object.create(null)}function Le(e){e.forEach(pt)}function ht(e){return typeof e=="function"}function Ft(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Me;function En(e,t){return Me||(Me=document.createElement("a")),Me.href=t,e===Me.href}function Pt(e){return Object.keys(e).length===0}function vt(e,...t){if(e==null)return Ae;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function It(e){let t;return vt(e,n=>t=n)(),t}function Sn(e,t,n){e.$$.on_destroy.push(vt(t,n))}function On(e,t,n,r){if(e){const i=bt(e,t,n,r);return e[0](i)}}function bt(e,t,n,r){return e[1]&&r?$t(n.ctx.slice(),e[1](r(t))):n.ctx}function xn(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(t.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(t.dirty.length,i.length);for(let u=0;u<o;u+=1)s[u]=t.dirty[u]|i[u];return s}return t.dirty|i}return t.dirty}function kn(e,t,n,r,i,s){if(i){const o=bt(t,n,r,s);e.p(o,i)}}function Tn(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function Dn(e,t,n){return e.set(n),t}function Nn(e){return e&&ht(e.destroy)?e.destroy:Ae}let Be=!1;function Lt(){Be=!0}function jt(){Be=!1}function Wt(e,t,n,r){for(;e<t;){const i=e+(t-e>>1);n(i)<=r?e=i+1:t=i}return e}function Mt(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if(e.nodeName==="HEAD"){const a=[];for(let l=0;l<t.length;l++){const y=t[l];y.claim_order!==void 0&&a.push(y)}t=a}const n=new Int32Array(t.length+1),r=new Int32Array(t.length);n[0]=-1;let i=0;for(let a=0;a<t.length;a++){const l=t[a].claim_order,y=(i>0&&t[n[i]].claim_order<=l?i+1:Wt(1,i,x=>t[n[x]].claim_order,l))-1;r[a]=n[y]+1;const A=y+1;n[A]=a,i=Math.max(A,i)}const s=[],o=[];let u=t.length-1;for(let a=n[i]+1;a!=0;a=r[a-1]){for(s.push(t[a-1]);u>=a;u--)o.push(t[u]);u--}for(;u>=0;u--)o.push(t[u]);s.reverse(),o.sort((a,l)=>a.claim_order-l.claim_order);for(let a=0,l=0;a<o.length;a++){for(;l<s.length&&o[a].claim_order>=s[l].claim_order;)l++;const y=l<s.length?s[l]:null;e.insertBefore(o[a],y)}}function Ct(e,t){if(Be){for(Mt(e),(e.actual_end_child===void 0||e.actual_end_child!==null&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild);e.actual_end_child!==null&&e.actual_end_child.claim_order===void 0;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?(t.claim_order!==void 0||t.parentNode!==e)&&e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else(t.parentNode!==e||t.nextSibling!==null)&&e.appendChild(t)}function $n(e,t,n){Be&&!n?Ct(e,t):(t.parentNode!==e||t.nextSibling!=n)&&e.insertBefore(t,n||null)}function Rt(e){e.parentNode.removeChild(e)}function Fn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function qt(e){return document.createElement(e)}function Ht(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function tt(e){return document.createTextNode(e)}function Pn(){return tt(" ")}function In(){return tt("")}function Ln(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function jn(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ut(e){return Array.from(e.childNodes)}function Bt(e){e.claim_info===void 0&&(e.claim_info={last_index:0,total_claimed:0})}function _t(e,t,n,r,i=!1){Bt(e);const s=(()=>{for(let o=e.claim_info.last_index;o<e.length;o++){const u=e[o];if(t(u)){const a=n(u);return a===void 0?e.splice(o,1):e[o]=a,i||(e.claim_info.last_index=o),u}}for(let o=e.claim_info.last_index-1;o>=0;o--){const u=e[o];if(t(u)){const a=n(u);return a===void 0?e.splice(o,1):e[o]=a,i?a===void 0&&e.claim_info.last_index--:e.claim_info.last_index=o,u}}return r()})();return s.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,s}function At(e,t,n,r){return _t(e,i=>i.nodeName===t,i=>{const s=[];for(let o=0;o<i.attributes.length;o++){const u=i.attributes[o];n[u.name]||s.push(u.name)}s.forEach(o=>i.removeAttribute(o))},()=>r(t))}function Wn(e,t,n){return At(e,t,n,qt)}function Mn(e,t,n){return At(e,t,n,Ht)}function zt(e,t){return _t(e,n=>n.nodeType===3,n=>{const r=""+t;if(n.data.startsWith(r)){if(n.data.length!==r.length)return n.splitText(r.length)}else n.data=r},()=>tt(t),!0)}function Cn(e){return zt(e," ")}function Rn(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function qn(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Hn(e,t,n){e.classList[n?"add":"remove"](t)}function Un(e,t=document.body){return Array.from(t.querySelectorAll(e))}let Pe;function Fe(e){Pe=e}function je(){if(!Pe)throw new Error("Function called outside component initialization");return Pe}function Bn(e){je().$$.on_mount.push(e)}function zn(e){je().$$.after_update.push(e)}function Kt(e){je().$$.on_destroy.push(e)}function Kn(e,t){je().$$.context.set(e,t)}function Jn(e){return je().$$.context.get(e)}const De=[],ut=[],He=[],at=[],gt=Promise.resolve();let Qe=!1;function wt(){Qe||(Qe=!0,gt.then(Et))}function Xn(){return wt(),gt}function Ye(e){He.push(e)}const Je=new Set;let Ce=0;function Et(){const e=Pe;do{for(;Ce<De.length;){const t=De[Ce];Ce++,Fe(t),Jt(t.$$)}for(Fe(null),De.length=0,Ce=0;ut.length;)ut.pop()();for(let t=0;t<He.length;t+=1){const n=He[t];Je.has(n)||(Je.add(n),n())}He.length=0}while(De.length);for(;at.length;)at.pop()();Qe=!1,Je.clear(),Fe(e)}function Jt(e){if(e.fragment!==null){e.update(),Le(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ye)}}const Ue=new Set;let _e;function Gn(){_e={r:0,c:[],p:_e}}function Qn(){_e.r||Le(_e.c),_e=_e.p}function Xt(e,t){e&&e.i&&(Ue.delete(e),e.i(t))}function Yn(e,t,n,r){if(e&&e.o){if(Ue.has(e))return;Ue.add(e),_e.c.push(()=>{Ue.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function Zn(e,t){const n={},r={},i={$$scope:1};let s=e.length;for(;s--;){const o=e[s],u=t[s];if(u){for(const a in o)a in u||(r[a]=1);for(const a in u)i[a]||(n[a]=u[a],i[a]=1);e[s]=u}else for(const a in o)i[a]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Vn(e){return typeof e=="object"&&e!==null?e:{}}function er(e){e&&e.c()}function tr(e,t){e&&e.l(t)}function Gt(e,t,n,r){const{fragment:i,on_mount:s,on_destroy:o,after_update:u}=e.$$;i&&i.m(t,n),r||Ye(()=>{const a=s.map(pt).filter(ht);o?o.push(...a):Le(a),e.$$.on_mount=[]}),u.forEach(Ye)}function Qt(e,t){const n=e.$$;n.fragment!==null&&(Le(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Yt(e,t){e.$$.dirty[0]===-1&&(De.push(e),wt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function nr(e,t,n,r,i,s,o,u=[-1]){const a=Pe;Fe(e);const l=e.$$={fragment:null,ctx:null,props:s,update:Ae,not_equal:i,bound:ot(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:ot(),dirty:u,skip_bound:!1,root:t.target||a.$$.root};o&&o(l.root);let y=!1;if(l.ctx=n?n(e,t.props||{},(A,x,...S)=>{const D=S.length?S[0]:x;return l.ctx&&i(l.ctx[A],l.ctx[A]=D)&&(!l.skip_bound&&l.bound[A]&&l.bound[A](D),y&&Yt(e,A)),x}):[],l.update(),y=!0,Le(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){Lt();const A=Ut(t.target);l.fragment&&l.fragment.l(A),A.forEach(Rt)}else l.fragment&&l.fragment.c();t.intro&&Xt(e.$$.fragment),Gt(e,t.target,t.anchor,t.customElement),jt(),Et()}Fe(a)}class rr{$destroy(){Qt(this,1),this.$destroy=Ae}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Pt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ee=[];function St(e,t=Ae){let n;const r=new Set;function i(u){if(Ft(e,u)&&(e=u,n)){const a=!Ee.length;for(const l of r)l[1](),Ee.push(l,e);if(a){for(let l=0;l<Ee.length;l+=2)Ee[l][0](Ee[l+1]);Ee.length=0}}}function s(u){i(u(e))}function o(u,a=Ae){const l=[u,a];return r.add(l),r.size===1&&(n=t(i)||Ae),u(e),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Zt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Vt(e,...t){const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ze(e){let t;return Vt(e,n=>t=n)(),t}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function nt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ze(e,t){return Object.keys(e).reduce((r,i)=>Object.assign(Object.assign({},r),{[i]:t(e[i])}),{})}function p(e){return Object.prototype.toString.call(e)==="[object Object]"}function ge(e,t){return ze(e,n=>p(n)?ge(n,t):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?t:n.map(r=>{const i=ge(r,t);return nt(i,["key"])}):t)}function Ot(e=8){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}function ce(e){return e?ze(e,t=>p(t)?ce(t):Array.isArray(t)?t.length===0||t.every(n=>typeof n=="string")?t:t.map(n=>{if(!p(n))return n;const r=ce(n);return r.key||(r.key=Ot()),r}):t):{}}function Ne(e){return e?ze(e,t=>p(t)?ce(t):Array.isArray(t)?t.length===0||t.every(n=>typeof n=="string")?t:t.map(n=>{if(!p(n))return n;const r=ce(n);return nt(r,["key"])}):t):{}}function ae(e,t,n){const r=s=>String.prototype.split.call(t,s).filter(Boolean).reduce((o,u)=>o!=null?o[u]:o,e),i=r(/[,[\]]+?/)||r(/[,[\].]+?/);return i===void 0||i===e?n:i}function U(e){return Object.keys(e||{}).reduce((t,n)=>Object.assign(Object.assign({},t),{[n]:p(e[n])?U(e[n]):Array.isArray(e[n])?[...e[n]]:e[n]}),{})}function We(e,t,n){e&&(e=U(e)),p(e)||(e={});const r=Array.isArray(t)?t:t.match(/[^.[\]]+/g)||[],i=r[r.length-1];if(!i)return e;let s=e;for(let o=0;o<r.length-1;o++){const u=r[o];if(!s[u]||!p(s[u])&&!Array.isArray(s[u])){const a=r[o+1];isNaN(Number(a))?s[u]={}:s[u]=[]}s=s[u]}return s[i]=n(s[i]),e}function E(e,t,n){return We(e,t,()=>n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function en(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function tn(e){return function(t){if(p(t)){const n=B(t,e);return en(n,["key"])}return e}}function B(e,t){return ze(e,n=>p(n)?B(n,t):Array.isArray(n)?n.map(tn(t)):t)}function Oe(e){var t;return((t=e)===null||t===void 0?void 0:t.nodeName)==="INPUT"}function nn(e){var t;return((t=e)===null||t===void 0?void 0:t.nodeName)==="TEXTAREA"}function xe(e){var t;return((t=e)===null||t===void 0?void 0:t.nodeName)==="SELECT"}function Ke(e){var t;return((t=e)===null||t===void 0?void 0:t.nodeName)==="FIELDSET"}function j(e){return Oe(e)||nn(e)||xe(e)}function ct(e){return e.nodeType===Node.ELEMENT_NODE}function L(e,t){return t!=null?t:j(e)?e.name:""}function Ve(e){if(j(e))return[e];if(e.childElementCount===0)return[];const t=new Set;for(const n of e.children){if(j(n)&&t.add(n),Ke(n))for(const r of n.elements)j(r)&&t.add(r);n.childElementCount>0&&Ve(n).forEach(r=>t.add(r))}return Array.from(t)}function xt(e){for(const t of e.elements)!j(t)&&!Ke(t)||e.hasAttribute("data-felte-keep-on-remove")&&!t.hasAttribute("data-felte-keep-on-remove")&&(t.dataset.felteKeepOnRemove=e.dataset.felteKeepOnRemove)}function kt(e){return e.type.match(/^(number|range)$/)?e.value?+e.value:void 0:e.value}function lt(e){var t;let n={},r={};for(const i of e.elements){if(Ke(i)&&xt(i),!j(i)||!i.name)continue;const s=L(i);if(Oe(i)){if(i.type==="checkbox"){if(typeof ae(n,s)=="undefined"){if(Array.from(e.querySelectorAll(`[name="${i.name}"]`)).filter(a=>j(a)?s===L(a):!1).length===1){n=E(n,s,i.checked),r=E(r,s,!1);continue}n=E(n,s,i.checked?[i.value]:[]),r=E(r,s,!1);continue}Array.isArray(ae(n,s))&&i.checked&&(n=We(n,s,u=>[...u,i.value]));continue}if(i.type==="radio"){if(ae(n,s))continue;n=E(n,s,i.checked?i.value:void 0),r=E(r,s,!1);continue}if(i.type==="file"){n=E(n,s,i.multiple?Array.from(i.files||[]):(t=i.files)===null||t===void 0?void 0:t[0]),r=E(r,s,!1);continue}}else if(xe(i)){if(!i.multiple)n=E(n,s,i.value);else{const a=Array.from(i.options).filter(l=>l.selected).map(l=>l.value);n=E(n,s,a)}r=E(r,s,!1);continue}const o=kt(i);n=E(n,s,o),r=E(r,s,!1)}return{defaultData:n,defaultTouched:r}}function rn(e,t){var n;if(!j(e))return;const r=t;if(Oe(e)){if(e.type==="checkbox"){const i=r;if(typeof i=="undefined"||typeof i=="boolean"){e.checked=!!i;return}Array.isArray(i)&&(i.includes(e.value)?e.checked=!0:e.checked=!1);return}if(e.type==="radio"){const i=r;e.value===i?e.checked=!0:e.checked=!1;return}if(e.type==="file"){e.files=null,e.value="";return}}else if(xe(e)){if(e.multiple){if(Array.isArray(r)){e.value=String((n=r[0])!==null&&n!==void 0?n:"");for(const s of e.options)r.includes(s.value)?s.selected=!0:s.selected=!1}}else{e.value=String(r!=null?r:"");for(const s of e.options)s.value===r?s.selected=!0:s.selected=!1}return}e.value=String(r!=null?r:"")}function Re(e,t){for(const n of e.elements){if(Ke(n)&&xt(n),!j(n)||!n.name)continue;const r=L(n);rn(n,ae(t,r))}}function $e(e,t){if(!e||Object(e)!==e)return;typeof e!="undefined"&&(e=U(e));const n=Array.isArray(t)?t:t.toString().match(/[^.[\]]+/g)||[],r=n.length===1?e:ae(e,n.slice(0,-1).join("."));return Array.isArray(r)?r.splice(Number(n[n.length-1]),1):r==null||delete r[n[n.length-1]],e}function qe(e,t,n,r){return We(e,t,i=>(typeof i!="undefined"&&!Array.isArray(i)||(i||(i=[]),typeof r=="undefined"?i.push(n):i.splice(r,0,n)),i))}function sn(e,t,n,r){return We(e,t,i=>(!i||!Array.isArray(i)||([i[n],i[r]]=[i[r],i[n]]),i))}function on(e,t,n,r){return We(e,t,i=>(!i||!Array.isArray(i)||i.splice(r,0,i.splice(n,1)[0]),i))}function ft(e){return typeof e=="function"}function fe(e){return(n,r)=>{if(typeof n=="string"){const i=n;e(s=>{const o=ft(r)?r(ae(s,i)):r;return E(s,i,o)})}else e(i=>ft(n)?n(i):n)}}function un({stores:e,config:t,validateErrors:n,validateWarnings:r}){var i;let s,o=ce((i=t.initialValues)!==null&&i!==void 0?i:{});const{data:u,touched:a,errors:l,warnings:y,isDirty:A,isSubmitting:x,interacted:S}=e,D=fe(u.update),W=fe(a.update),me=fe(l.update),ie=fe(y.update);function M(f){D(h=>{const v=f(h);return s&&Re(s,v),v})}const ue=(f,h,v)=>{fe(M)(f,h),typeof f=="string"&&v&&W(f,!0)};function z(f,h,v){const T=p(h)?ge(h,!1):!1,O=p(T)?B(T,[]):[];h=p(h)?Object.assign(Object.assign({},h),{key:Ot()}):h,l.update(N=>qe(N,f,O,v)),y.update(N=>qe(N,f,O,v)),a.update(N=>qe(N,f,T,v)),u.update(N=>{const K=qe(N,f,h,v);return setTimeout(()=>s&&Re(s,K)),K})}function k(f){l.update(f),y.update(f),a.update(f),u.update(h=>{const v=f(h);return setTimeout(()=>s&&Re(s,v)),v})}function X(f){k(h=>$e(h,f))}function te(f,h,v){k(T=>sn(T,f,h,v))}function G(f,h,v){k(T=>on(T,f,h,v))}function q(f){const h=ae(o,f),v=p(h)?ge(h,!1):!1,T=p(v)?B(v,[]):[];u.update(O=>{const N=E(O,f,h);return s&&Re(s,N),N}),a.update(O=>E(O,f,v)),l.update(O=>E(O,f,T)),y.update(O=>E(O,f,T))}const Q=fe(x.update),Y=fe(A.update),se=fe(S.update);async function ne(){const f=Ze(u);a.set(ge(f,!0)),S.set(null);const h=await n(f);return await r(f),h}function ye(){ue(U(o)),W(f=>B(f,!1)),S.set(null),A.set(!1)}return{public:{setData:D,setFields:ue,setTouched:W,setErrors:me,setWarnings:ie,setIsSubmitting:Q,setIsDirty:Y,setInteracted:se,validate:ne,reset:ye,unsetField:X,resetField:q,addField:z,swapFields:te,moveField:G,setInitialValues:f=>{o=ce(f)}},private:{_setFormNode(f){s=f},_getFormNode:()=>s,_getInitialValues:()=>o}}}class an extends Error{constructor(t,n){super(t);this.name="FelteSubmitError",this.response=n}}function de(...e){const t=e.pop(),n=U(e.shift());if(e.length===0)return n;for(const r of e){if(!r)continue;let i=t(n,r);if(typeof i!="undefined")return i;const s=Array.from(new Set(Object.keys(n).concat(Object.keys(r))));for(const o of s)if(i=t(n[o],r[o]),typeof i!="undefined")n[o]=i;else if(p(r[o])&&p(n[o]))n[o]=de(n[o],r[o],t);else if(Array.isArray(r[o]))n[o]=r[o].map((u,a)=>{if(!p(u))return u;const l=Array.isArray(n[o])?n[o][a]:n[o];return de(l,u,t)});else if(p(r[o])){const u=B(U(r[o]),void 0);n[o]=de(u,r[o],t)}else typeof r[o]!="undefined"&&(n[o]=r[o])}return n}function dt(...e){return de(...e,()=>{})}function cn(e,t){return Object.keys(e).some(r=>t(e[r]))}function Ie(e,t){return cn(e,n=>p(n)?Ie(n,t):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?t(n):n.some(r=>p(r)?Ie(r,t):t(r)):t(n))}function Xe(e){let t=e;for(;t&&t.nodeName!=="FORM";){if(t.hasAttribute("data-felte-ignore"))return!0;t=t.parentElement}return!1}function ln(e,t){if(!(p(e)&&p(t))){if(Array.isArray(t)){if(t.some(p))return;const n=Array.isArray(e)?e:[];return t.map((r,i)=>{var s;return(s=n[i])!==null&&s!==void 0?s:r})}if(typeof e!="undefined")return e}}function mt(...e){return de(...e,ln)}function fn(e){if(!!e)return async function(){let n=new FormData(e);const r=new URL(e.action),i=e.method.toLowerCase()==="get"?"get":r.searchParams.get("_method")||e.method;let s=e.enctype;e.querySelector('input[type="file"]')&&(s="multipart/form-data"),(i==="get"||s==="application/x-www-form-urlencoded")&&(n=new URLSearchParams(n));let o;i==="get"?(n.forEach((a,l)=>{r.searchParams.append(l,a)}),o={method:i}):o={method:i,body:n,headers:{"Content-Type":s}};const u=await window.fetch(r.toString(),o);if(u.ok)return u;throw new an("An error occurred while submitting the form",u)}}function dn({helpers:e,stores:t,config:n,extender:r,validateErrors:i,validateWarnings:s,_setFormNode:o,_getFormNode:u,_getInitialValues:a,_setCurrentExtenders:l,_getCurrentExtenders:y}){const{setFields:A,setTouched:x,reset:S,setInitialValues:D}=e,{addValidator:W,addTransformer:me,validate:ie,setIsDirty:M,setIsSubmitting:ue}=e,z=nt(e,["addValidator","addTransformer","validate","setIsDirty","setIsSubmitting"]),{data:k,errors:X,warnings:te,touched:G,isSubmitting:q,isDirty:Q,interacted:Y}=t;function se(m){var w,f;const h=(w=m==null?void 0:m.onError)!==null&&w!==void 0?w:n.onError,v=(f=m==null?void 0:m.onSuccess)!==null&&f!==void 0?f:n.onSuccess;return async function(O){var N,K;const C=u(),pe=(K=(N=m==null?void 0:m.onSubmit)!==null&&N!==void 0?N:n.onSubmit)!==null&&K!==void 0?K:fn(C);if(!pe)return;O==null||O.preventDefault(),q.set(!0),Y.set(null);const Z=Ne(Ze(k)),he=await i(Z,m==null?void 0:m.validate),we=await s(Z,m==null?void 0:m.warn);if(we&&te.set(dt(B(Z,[]),we)),G.set(ge(Z,!0)),he&&Ie(he,I=>Array.isArray(I)?I.length>=1:!!I)){await new Promise(I=>setTimeout(I)),y().forEach(I=>{var d;return(d=I.onSubmitError)===null||d===void 0?void 0:d.call(I,{data:Z,errors:he})}),q.set(!1);return}const oe=Object.assign(Object.assign({},z),{form:C,controls:C&&Array.from(C.elements).filter(j),config:Object.assign(Object.assign({},n),m)});try{const V=await pe(Z,oe);C==null||C.dispatchEvent(new CustomEvent("feltesuccess",{detail:Object.assign({response:V},oe)})),await(v==null?void 0:v(V,oe))}catch(V){if(C==null||C.dispatchEvent(new CustomEvent("felteerror",{detail:Object.assign({error:V},oe)})),!h)return;const I=await h(V,oe);I&&(X.set(I),await new Promise(d=>setTimeout(d)),y().forEach(d=>{var c;return(c=d.onSubmitError)===null||c===void 0?void 0:c.call(d,{data:Z,errors:I})}))}finally{q.set(!1)}}}const ne=se();function ye(m){m.requestSubmit||(m.requestSubmit=ne);function w(d){return function(c){return c({form:m,stage:d,controls:Array.from(m.elements).filter(j),data:k,errors:X,warnings:te,touched:G,config:n,addValidator:W,addTransformer:me,setFields:A,validate:ie,reset:S})}}l(r.map(w("MOUNT"))),m.noValidate=!!n.validate;const{defaultData:f,defaultTouched:h}=lt(m);o(m),D(dt(U(f),a())),A(a()),G.set(h);function v(d){const c=L(d),_=Array.from(m.querySelectorAll(`[name="${d.name}"]`)).filter(b=>j(b)?c===L(b):!1);if(_.length!==0)return _.length===1?k.update(b=>E(b,L(d),d.checked)):k.update(b=>E(b,L(d),_.filter(Oe).filter(ee=>ee.checked).map(ee=>ee.value)))}function T(d){const c=m.querySelectorAll(`[name="${d.name}"]`),_=Array.from(c).find(b=>Oe(b)&&b.checked);k.update(b=>E(b,L(d),_==null?void 0:_.value))}function O(d){var c;const _=Array.from((c=d.files)!==null&&c!==void 0?c:[]);k.update(b=>E(b,L(d),d.multiple?_:_[0]))}function N(d){if(!d.multiple)k.update(c=>E(c,L(d),d.value));else{const c=Array.from(d.options).filter(_=>_.selected).map(_=>_.value);k.update(_=>E(_,L(d),c))}}function K(d){const c=d.target;if(!c||!j(c)||xe(c)||Xe(c)||["checkbox","radio","file"].includes(c.type)||!c.name)return;Q.set(!0);const _=kt(c);Y.set(c.name),k.update(b=>E(b,L(c),_))}function C(d){const c=d.target;if(!(!c||!j(c)||Xe(c))&&!!c.name)if(x(L(c),!0),Y.set(c.name),(xe(c)||["checkbox","radio","file","hidden"].includes(c.type))&&Q.set(!0),c.type==="hidden"&&k.update(_=>E(_,L(c),c.value)),xe(c))N(c);else if(Oe(c))c.type==="checkbox"?v(c):c.type==="radio"?T(c):c.type==="file"&&O(c);else return}function pe(d){const c=d.target;!c||!j(c)||Xe(c)||!c.name||(x(L(c),!0),Y.set(c.name))}function Z(d){d.preventDefault(),S()}const he={childList:!0,subtree:!0};function we(d){for(const c of d.reverse()){if(c.hasAttribute("data-felte-keep-on-remove")&&c.dataset.felteKeepOnRemove!=="false")continue;const _=/.*(\[[0-9]+\]|\.[0-9]+)\.[^.]+$/;let b=L(c);const ee=Ze(G);if(_.test(b)){const P=b.split(".").slice(0,-1).join("."),ke=ae(ee,P);p(ke)&&Object.keys(ke).length<=1&&(b=P)}k.update(P=>$e(P,b)),G.update(P=>$e(P,b)),X.update(P=>$e(P,b)),te.update(P=>$e(P,b))}}function oe(d){for(const c of d)if(c.type==="childList"){if(c.addedNodes.length>0){if(!Array.from(c.addedNodes).some(F=>ct(F)?j(F)?!0:Ve(F).length>0:!1))continue;y().forEach(F=>{var P;return(P=F.destroy)===null||P===void 0?void 0:P.call(F)}),l(r.map(w("UPDATE")));const{defaultData:b,defaultTouched:ee}=lt(m);k.update(F=>mt(F,b)),G.update(F=>mt(F,ee))}if(c.removedNodes.length>0)for(const _ of c.removedNodes){if(!ct(_))continue;const b=Ve(_);b.length!==0&&(y().forEach(ee=>{var F;return(F=ee.destroy)===null||F===void 0?void 0:F.call(ee)}),l(r.map(w("UPDATE"))),we(b))}}}const V=new MutationObserver(oe);V.observe(m,he),m.addEventListener("input",K),m.addEventListener("change",C),m.addEventListener("focusout",pe),m.addEventListener("submit",ne),m.addEventListener("reset",Z);const I=X.subscribe(d=>{for(const c of m.elements){if(!j(c)||!c.name)continue;const _=ae(d,L(c)),b=Array.isArray(_)?_.join(`
`):typeof _=="string"?_:void 0;b!==c.dataset.felteValidationMessage&&(b?(c.dataset.felteValidationMessage=b,c.setAttribute("aria-invalid","true")):(delete c.dataset.felteValidationMessage,c.removeAttribute("aria-invalid")))}});return{destroy(){V.disconnect(),m.removeEventListener("input",K),m.removeEventListener("change",C),m.removeEventListener("focusout",pe),m.removeEventListener("submit",ne),m.removeEventListener("reset",Z),I(),y().forEach(d=>{var c;return(c=d.destroy)===null||c===void 0?void 0:c.call(d)})}}}return{form:ye,createSubmitHandler:se,handleSubmit:ne}}function et(e,t){return t?Array.isArray(t)?t.reduce((n,r)=>r(n),e):t(e):e}function mn(e,t){if(!(p(e)||p(t))){if(e===null||e==="")return t;if(t===null||t===""||!t)return e;if(!(!e||!t)){if(Array.isArray(e)){if(!Array.isArray(t))return[...e,t];const n=[],r=Math.max(t.length,e.length);for(let i=0;i<r;i++){let s=e[i],o=t[i];!p(s)&&!p(o)?(Array.isArray(s)||(s=[s]),Array.isArray(o)||(o=[o]),n.push(...s,...o)):n.push(Se([s!=null?s:{},o!=null?o:{}]))}return n.filter(Boolean)}return Array.isArray(t)||(t=[t]),[e,...t].reduce((n,r)=>n.concat(r),[]).filter(Boolean)}}}function Se(e){return de(...e,mn)}function yn(e,t){return t?(Array.isArray(t)?t:[t]).map(r=>r(e)):[]}function pn(e){const t={aborted:!1,priority:e};return{signal:t,abort(){t.aborted=!0}}}function hn(e,t){if(p(e))return!t||p(t)&&Object.keys(t).length===0?B(e,null):void 0;if(Array.isArray(e)){if(e.some(p))return;const n=Array.isArray(t)?t:[];return e.map((r,i)=>{const s=n[i];return Array.isArray(s)&&s.length===0?null:r&&s||null})}return Array.isArray(t)&&t.length===0?null:Array.isArray(t)?e?t:null:e&&t?[t]:null}function vn(e,t){if(p(e))return!t||p(t)&&Object.keys(t).length===0?B(e,null):void 0;if(Array.isArray(e)){if(e.some(p))return;const n=Array.isArray(t)?t:[];return e.map((r,i)=>{const s=n[i];return Array.isArray(s)&&s.length===0?null:s||null})}return Array.isArray(t)&&t.length===0?null:Array.isArray(t)?t:t?[t]:null}function bn([e,t]){return de(t,e,hn)}function _n([e,t]){return de(t,e,vn)}function yt(e,t=300){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,r)},t)}}function An(e){return function(n,r,i){const s=Array.isArray(n)?n:[n],o=new Array(s.length),u=e(i),a=u.set,l=u.subscribe;let y;function A(){y=s.map((S,D)=>S.subscribe(W=>{o[D]=W,a(r(o))}))}function x(){y==null||y.forEach(S=>S())}return u.subscribe=function(D){const W=l(D);return()=>{W()}},[u,A,x]}}function gn(e,t){var n,r,i,s,o,u,a;const l=An(e),y=t.initialValues=t.initialValues?ce(et(U(t.initialValues),t.transform)):{},A=ge(Ne(y),!1),x=e(A),S=e(0),[D,W,me]=l([x,S],([$,g])=>Ie($,J=>!!J)&&g>=1,!1);delete D.set,delete D.update;function ie($){let g;return async function(J,re,H,ve=!1){if(!H||!J)return;let le=re&&Object.keys(re).length>0?re:B(J,[]);const be=pn(ve);if((!(g!=null&&g.signal.priority)||ve)&&(g==null||g.abort(),g=be),g.signal.priority&&!ve)return;S.update(Te=>Te+1);const st=yn(J,H);return st.forEach(async Te=>{const Nt=await Te;be.signal.aborted||(le=Se([le,Nt]),$.set(le))}),await Promise.all(st),g=void 0,S.update(Te=>Te-1),le}}let M=B(A,[]);const ue=e(y),z=B(A,[]),k=e(z),X=e(U(z)),[te,G,q]=l([k,X],Se,U(z)),Q=B(A,[]),Y=e(Q),se=e(U(Q)),[ne,ye,m]=l([Y,se],Se,U(Q)),[w,f,h]=l([te,x],bn,U(z)),[v,T,O]=l([ne,x],_n,U(Q));let N=!1;const[K,C,pe]=l(te,([$])=>{var g;return N?!Ie($,R=>Array.isArray(R)?R.length>=1:!!R):(N=!0,!t.validate&&!(!((g=t.debounced)===null||g===void 0)&&g.validate))},!t.validate&&!(!((n=t.debounced)===null||n===void 0)&&n.validate));delete K.set,delete K.update;const Z=e(!1),he=e(!1),we=e(null),oe=ie(k),V=ie(Y),I=ie(X),d=ie(se),c=yt(I,(i=(r=t.debounced)===null||r===void 0?void 0:r.validateTimeout)!==null&&i!==void 0?i:(s=t.debounced)===null||s===void 0?void 0:s.timeout),_=yt(d,(u=(o=t.debounced)===null||o===void 0?void 0:o.warnTimeout)!==null&&u!==void 0?u:(a=t.debounced)===null||a===void 0?void 0:a.timeout);async function b($,g){var R;const J=Ne($),re=oe(J,M,g!=null?g:t.validate,!0);if(g)return re;const H=I(J,M,(R=t.debounced)===null||R===void 0?void 0:R.validate,!0);return Se(await Promise.all([re,H]))}async function ee($,g){var R;const J=Ne($),re=V(J,M,g!=null?g:t.warn,!0);if(g)return re;const H=d(J,M,(R=t.debounced)===null||R===void 0?void 0:R.warn,!0);return Se(await Promise.all([re,H]))}let F=z,P=Q;function ke(){const $=ue.subscribe(H=>{var ve,le;const be=Ne(H);oe(be,M,t.validate),V(be,M,t.warn),c(be,M,(ve=t.debounced)===null||ve===void 0?void 0:ve.validate),_(be,M,(le=t.debounced)===null||le===void 0?void 0:le.warn)}),g=x.subscribe(H=>{M=B(H,[])}),R=te.subscribe(H=>{F=H}),J=ne.subscribe(H=>{P=H});G(),C(),ye(),f(),T(),W();function re(){$(),h(),q(),m(),O(),pe(),me(),g(),R(),J()}return re}function rt($){k.set($(F)),X.set({})}function it($){Y.set($(P)),se.set({})}function Tt($){rt(()=>$)}function Dt($){it(()=>$)}return w.set=Tt,w.update=rt,v.set=Dt,v.update=it,{data:ue,errors:w,warnings:v,touched:x,isValid:K,isSubmitting:Z,isDirty:he,isValidating:D,interacted:we,validateErrors:b,validateWarnings:ee,cleanup:t.preventStoreStart?()=>{}:ke(),start:ke}}function wn(e,t){var n,r;(n=e.extend)!==null&&n!==void 0||(e.extend=[]),(r=e.debounced)!==null&&r!==void 0||(e.debounced={}),e.validate&&!Array.isArray(e.validate)&&(e.validate=[e.validate]),e.debounced.validate&&!Array.isArray(e.debounced.validate)&&(e.debounced.validate=[e.debounced.validate]),e.transform&&!Array.isArray(e.transform)&&(e.transform=[e.transform]),e.warn&&!Array.isArray(e.warn)&&(e.warn=[e.warn]),e.debounced.warn&&!Array.isArray(e.debounced.warn)&&(e.debounced.warn=[e.debounced.warn]);function i(w,{debounced:f,level:h}={debounced:!1,level:"error"}){var v;const T=h==="error"?"validate":"warn";(v=e.debounced)!==null&&v!==void 0||(e.debounced={});const O=f?e.debounced:e;O[T]?O[T]=[...O[T],w]:O[T]=[w]}function s(w){e.transform?e.transform=[...e.transform,w]:e.transform=[w]}const o=Array.isArray(e.extend)?e.extend:[e.extend];let u=[];const{isSubmitting:a,isValidating:l,data:y,errors:A,warnings:x,touched:S,isValid:D,isDirty:W,cleanup:me,start:ie,validateErrors:M,validateWarnings:ue,interacted:z}=gn(t.storeFactory,e),k=y.update,X=y.set,te=w=>k(f=>ce(et(w(f),e.transform))),G=w=>X(ce(et(w,e.transform)));y.update=te,y.set=G;const q=un({extender:o,config:e,addValidator:i,addTransformer:s,validateErrors:M,validateWarnings:ue,stores:{data:y,errors:A,warnings:x,touched:S,isValid:D,isValidating:l,isSubmitting:a,isDirty:W,interacted:z}});u=o.map(w=>w({stage:"SETUP",errors:A,warnings:x,touched:S,data:y,config:e,addValidator:i,addTransformer:s,setFields:q.public.setFields,reset:q.public.reset,validate:q.public.validate}));const Q=()=>u,Y=w=>{u=w},se=Object.assign({config:e,stores:{data:y,touched:S,errors:A,warnings:x,isSubmitting:a,isValidating:l,isValid:D,isDirty:W,interacted:z},helpers:Object.assign(Object.assign({},q.public),{addTransformer:s,addValidator:i}),extender:o,validateErrors:M,validateWarnings:ue,_getCurrentExtenders:Q,_setCurrentExtenders:Y},q.private),{form:ne,createSubmitHandler:ye,handleSubmit:m}=dn(se);return Object.assign({data:y,errors:A,warnings:x,touched:S,isValid:D,isSubmitting:a,isValidating:l,isDirty:W,interacted:z,form:ne,handleSubmit:m,createSubmitHandler:ye,cleanup:me,startStores:ie},q.public)}function ir(e){var t=wn(e!=null?e:{},{storeFactory:St}),n=t.cleanup;t.startStores;var r=Zt(t,["cleanup","startStores"]);return Kt(n),r}var Ge={};function sr(e,t){const n=typeof localStorage!="undefined";function r(i,s){!n||localStorage.setItem(i,JSON.stringify(s))}if(!Ge[e]){const i=St(t,u=>{const a=n?localStorage.getItem(e):null;if(a&&u(JSON.parse(a)),n){const l=y=>{y.key===e&&u(y.newValue?JSON.parse(y.newValue):null)};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)}}),{subscribe:s,set:o}=i;Ge[e]={set(u){r(e,u),o(u)},update(u){const a=u(It(i));r(e,a),o(a)},subscribe:s}}return Ge[e]}export{Vn as A,Qt as B,$t as C,St as D,Xn as E,Jn as F,Ht as G,Mn as H,En as I,Hn as J,Ct as K,Ln as L,Ae as M,Sn as N,On as O,Un as P,kn as Q,Tn as R,rr as S,xn as T,Fn as U,Nn as V,ir as W,sr as X,Le as Y,vt as Z,Dn as _,Ut as a,jn as b,Wn as c,Rt as d,qt as e,qn as f,$n as g,zt as h,nr as i,Rn as j,Pn as k,In as l,Cn as m,Gn as n,Yn as o,Qn as p,Xt as q,Kn as r,Ft as s,tt as t,zn as u,Bn as v,er as w,tr as x,Gt as y,Zn as z};
